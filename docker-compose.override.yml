# Docker Compose Override for Development
# This file extends the base docker-compose.yml with development-specific settings
# Copy this to docker-compose.override.yml and customize for your environment

version: '3.8'

# Override environment files for development
services:
  postgres:
    env_file:
      - .env
    environment:
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-dev_password_123}

  admin-api:
    env_file:
      - admin-api/.env
    environment:
      - NODE_ENV=development
      - LOG_LEVEL=debug
    volumes:
      # Mount source for development
      - ./admin-api/src:/app/src
      - ./admin-api/lib:/app/lib
    # Override command for development
    command: ["npm", "run", "dev"]

  web:
    env_file:
      - ../web/.env.local
    environment:
      - NODE_ENV=development
      - NEXT_PUBLIC_APP_URL=http://localhost:3001
    volumes:
      # Mount source for development
      - ../web:/app
      - /app/node_modules
      - /app/.next
    # Override command for development
    command: ["npm", "run", "dev"]

  # MCP Services (uncomment if needed for development)
  # club-analytics:
  #   env_file:
  #     - ../mcp/.env
  #   environment:
  #     - NODE_ENV=development
  #     - LOG_LEVEL=debug

  # google-sheets:
  #   env_file:
  #     - ../mcp/.env
  #   environment:
  #     - NODE_ENV=development
  #     - LOG_LEVEL=debug

  # mysql-data:
  #   env_file:
  #     - ../mcp/.env
  #   environment:
  #     - NODE_ENV=development
  #     - LOG_LEVEL=debug
