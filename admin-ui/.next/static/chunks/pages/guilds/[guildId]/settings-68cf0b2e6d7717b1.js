(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{9337:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guilds/[guildId]/settings",function(){return a(2390)}])},2390:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var l=a(5893),r=a(1822),d=a.n(r),i=a(1163),t=a(7294),n=a(5754),o=a(7751);function c(){var e;let s=(null===(e=(0,i.useRouter)().query.guildId)||void 0===e?void 0:e.toString())||"",[a,r]=(0,t.useState)({loading:!0,error:null,settings:null,saving:!1});(0,t.useEffect)(()=>{s&&(async()=>{try{let e=await (0,o.SC)("/api/guilds/".concat(s,"/settings"));r({loading:!1,error:null,settings:e.settings,saving:!1})}catch(e){r({loading:!1,error:e.message||"failed",settings:null,saving:!1})}})()},[s]);let c=a.settings||{};async function x(e){r(e=>({...e,saving:!0}));try{let a=await (0,o.SC)("/api/guilds/".concat(s,"/settings"),{method:"PUT",body:JSON.stringify(e)});r({loading:!1,error:null,settings:a.settings,saving:!1})}catch(e){r(s=>({...s,saving:!1,error:e.message||"save_failed"}))}}return(0,l.jsxs)(n.Z,{guildId:s,title:"Club Settings",children:[(0,l.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-f517e812e7d02b0 card",children:[(0,l.jsx)("div",{style:{fontWeight:700,fontSize:"1.1rem",marginBottom:"1rem"},className:"jsx-f517e812e7d02b0",children:"Guild Settings"}),a.loading&&(0,l.jsx)("div",{className:"jsx-f517e812e7d02b0",children:"Loadingâ€¦"}),a.error&&(0,l.jsxs)("div",{style:{color:"#f88",marginBottom:"1rem"},className:"jsx-f517e812e7d02b0",children:["Error: ",a.error]}),!a.loading&&!a.error&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 grid cols-2",children:[(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Sheet ID"}),(0,l.jsx)("input",{type:"text",defaultValue:c.sheet_id||"",onBlur:e=>x({sheet_id:e.target.value}),className:"jsx-f517e812e7d02b0"})]}),(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Default Tab (e.g., Baseline (10-24-25))"}),(0,l.jsx)("input",{type:"text",defaultValue:c.sheet_tab||"",onBlur:e=>x({sheet_tab:e.target.value}),className:"jsx-f517e812e7d02b0"})]}),(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Default View"}),(0,l.jsxs)("select",{defaultValue:c.view_mode||"baseline",onChange:e=>x({view_mode:e.target.value}),className:"jsx-f517e812e7d02b0",children:[(0,l.jsx)("option",{value:"baseline",className:"jsx-f517e812e7d02b0",children:"Baseline"}),(0,l.jsx)("option",{value:"latest",className:"jsx-f517e812e7d02b0",children:"Latest"})]})]}),(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Allow Public Stats (/stats)"}),(0,l.jsx)("input",{type:"checkbox",defaultChecked:!!c.allow_public,onChange:e=>x({allow_public:e.target.checked}),className:"jsx-f517e812e7d02b0"})]})]}),(0,l.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255,255,255,.1)"},className:"jsx-f517e812e7d02b0",children:[(0,l.jsx)("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:"1rem"},className:"jsx-f517e812e7d02b0",children:"Screenshot Upload Settings"}),(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 grid cols-2",children:[(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Screenshot Channel ID"}),(0,l.jsx)("input",{type:"text",defaultValue:c.screenshot_channel_id||"",onBlur:e=>x({screenshot_channel_id:e.target.value}),placeholder:"Pick from Channels tab or paste ID",className:"jsx-f517e812e7d02b0"})]}),(0,l.jsxs)("div",{className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Enable Uploads"}),(0,l.jsx)("input",{type:"checkbox",defaultChecked:void 0===c.uploads_enabled||!!c.uploads_enabled,onChange:e=>x({uploads_enabled:e.target.checked}),className:"jsx-f517e812e7d02b0"})]}),(0,l.jsxs)("div",{style:{gridColumn:"1 / -1"},className:"jsx-f517e812e7d02b0 form-row",children:[(0,l.jsx)("label",{className:"jsx-f517e812e7d02b0",children:"Notes"}),(0,l.jsx)("textarea",{defaultValue:c.notes||"",onBlur:e=>x({notes:e.target.value}),rows:4,style:{width:"100%",padding:".6rem .7rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,.15)",background:"rgba(0,0,0,.2)",color:"#fff",outline:"none",resize:"vertical"},className:"jsx-f517e812e7d02b0"})]})]})]})]})]}),(0,l.jsx)(d(),{id:"f517e812e7d02b0",children:".card.jsx-f517e812e7d02b0{padding:1rem;border:1px solid rgba(255,255,255,.12);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:rgba(255,255,255,.02)}.grid.jsx-f517e812e7d02b0{display:grid;gap:1rem}@media(max-width:640px){.grid.cols-2.jsx-f517e812e7d02b0{grid-template-columns:1fr}}@media(min-width:641px){.grid.cols-2.jsx-f517e812e7d02b0{grid-template-columns:1fr 1fr}}.form-row.jsx-f517e812e7d02b0 label.jsx-f517e812e7d02b0{display:block;font-size:.9rem;opacity:.75;margin-bottom:.3rem}.form-row.jsx-f517e812e7d02b0 input.jsx-f517e812e7d02b0,.form-row.jsx-f517e812e7d02b0 select.jsx-f517e812e7d02b0{width:100%;padding:.6rem .7rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid rgba(255,255,255,.15);background:rgba(0,0,0,.2);color:#fff;outline:none}"})]})}}},function(e){e.O(0,[359,822,754,888,774,179],function(){return e(e.s=9337)}),_N_E=e.O()}]);