(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{7299:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guilds/[guildId]/personality",function(){return a(8143)}])},8143:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(5893),i=a(7294),s=a(1163),l=a(6976),r=a(5754),o=a(7751);let u=e=>(0,o.SC)(e);function d(){let{guildId:e}=(0,s.useRouter)().query,t=(0,o.h_)(),{data:a,mutate:d}=(0,l.ZP)(e?"/api/guilds/".concat(e,"/personality"):null,u),[c,p]=(0,i.useState)("{}"),[y,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{(null==a?void 0:a.profile)&&p(JSON.stringify(a.profile,null,2))},[a]);let h=async()=>{f("Savingâ€¦");try{let a=c?JSON.parse(c):{},n=await t("/api/guilds/".concat(e,"/personality"),{method:"PUT",body:{profile:a}});await d(n,{revalidate:!1}),f("Saved")}catch(e){f(e.message)}};return(0,n.jsx)(r.Z,{guildId:e,title:"Persona Overrides",children:(0,n.jsxs)("div",{className:"card",style:{maxWidth:720},children:[(0,n.jsx)("p",{style:{opacity:.7},children:"Paste persona overrides (JSON). These merge with base persona in config/slimy_ai.persona.json."}),(0,n.jsx)("textarea",{className:"textarea",value:c,onChange:e=>p(e.target.value)}),(0,n.jsx)("button",{className:"btn",style:{marginTop:20},onClick:h,children:"Save Personality"}),y&&(0,n.jsx)("p",{style:{marginTop:12},children:y}),(null==a?void 0:a.updatedAt)&&(0,n.jsxs)("p",{style:{marginTop:12,opacity:.7},children:["Last updated: ",new Date(a.updatedAt).toLocaleString()," by ",a.updatedBy||"unknown"]})]})})}}},function(e){e.O(0,[359,754,888,774,179],function(){return e(e.s=7299)}),_N_E=e.O()}]);